<section class="bg-main-light p-4 rounded my-4 w-75 mx-auto shadow">
    <h1>Register Now</h1>
    <form [formGroup]="registerForm" (ngSubmit)="handleForm()">
       

        <div class="mb-2">
            <label for="name">Name <i class="fa-regular fa-asterisk" style="color: #ec2727;"></i></label>
        <input #name formControlName="name" type="text" id="name" class="form-control">
        </div>

        <div class="alert alert-danger" 
        *ngIf="registerForm.get('name')?.errors && (registerForm.get('name')?.touched || name.value.length > 0)">
            <p *ngIf="registerForm.get('name')?.getError('required')">Name is Required</p>
            <p *ngIf="registerForm.get('name')?.getError('minlength')">Name MinLength 3 </p>
            <p *ngIf="registerForm.get('name')?.getError('maxlength')">Name MaxLength 20</p>
        </div>

        <div class="mb-2">
            <label for="email">Email <i class="fa-regular fa-asterisk" style="color: #ec2727;"></i></label>
        <input #email formControlName="email" type="email" id="email" class="form-control">
        </div>

        <div class="alert alert-danger"
         *ngIf="registerForm.get('email')?.errors && (registerForm.get('email')?.touched || email.value.length > 0)">
            <p *ngIf="registerForm.get('email')?.getError('required')">Email is Required</p>
            <p *ngIf="registerForm.get('email')?.getError('email')">Email InValid </p>

        </div>

        <div class="mb-2 password-input">
            <label for="password">password <i class="fa-regular fa-asterisk" style="color: #ec2727;"></i></label>
        <input [type]="changetype?'password':'text'" #password formControlName="password" type="password" id="password" class="form-control">


        <span class="eye-icon" (click)="viewPass()"><i [ngClass]="visible?'fa fa-eye':'fa fa-eye-slash'"></i>
        </span>
        </div>

        <div class="alert alert-danger"
         *ngIf="registerForm.get('password')?.errors && (registerForm.get('password')?.touched || password.value.length > 0)">
            <p *ngIf="registerForm.get('password')?.getError('required')">password is Required</p>
            <p *ngIf="registerForm.get('password')?.getError('pattern')">password must start with upperCase then from 6 to 10</p>
        </div>

        

        <div class="mb-2 password-input1">
            <label for="rePassword">Repassword <i class="fa-regular fa-asterisk" style="color: #ec2727;"></i></label>
        <input [type]="changetype?'password':'text'"  #rePassword formControlName="rePassword" type="password" id="rePassword" class="form-control">

        <span class="eye-icon" (click)="viewPass()"><i [ngClass]="visible?'fa fa-eye':'fa fa-eye-slash'"></i>
        </span>
        </div>
        <div class="alert alert-danger"
         *ngIf="registerForm.get('rePassword')?.errors && (registerForm.get('rePassword')?.touched || rePassword.value.length > 0)">
            <p *ngIf="registerForm.get('rePassword')?.getError('required')">rePassword is Required</p>
            <p *ngIf="registerForm.get('rePassword')?.getError('mismatch')">rePassword must match with password</p>
        </div>



        <div class="mb-2">
            <label for="phone">Phone <i class="fa-regular fa-asterisk" style="color: #ec2727;"></i></label>
        <input #phone formControlName="phone" type="tel" id="phone" class="form-control">
        </div>


        <div class="alert alert-danger"
         *ngIf="registerForm.get('phone')?.errors && (registerForm.get('phone')?.touched || phone.value.length > 0)">
            <p *ngIf="registerForm.get('phone')?.getError('required')">phone is Required</p>
            <p *ngIf="registerForm.get('phone')?.getError('pattern')">accept only Egypt phone numbers</p>
        </div>

        <button  [disabled]="registerForm.invalid" class="btn-main ms-auto d-block">Register
            <i *ngIf="isLoading"  class="fas fa-spinner fa-spin"></i>
        
        </button>


        <div *ngIf="msgErr">
            <p class="alert alert-danger mt-2">{{msgErr}}</p>
        </div>
        
        
    </form>
</section>